# -*- coding: utf-8 -*-
"""bcsample_hundred.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1fGZ9k1f-PeYQKkenW3aZkmhh-nNlh_eB
"""

import json
import requests

ids = [
    2901, 2905, 2924, 2925, 2926, 2928, 2935, 2938, 3006, 3007,
    3008, 3010, 3017, 3020, 3022, 3023, 3024, 3026, 3029, 3030,
    3035, 3036, 3037, 3039, 3041, 3046, 3047, 3051, 3054, 3055,
    3101, 3102, 3104, 3105, 3110, 3132, 3137, 3143, 3145, 3157,
    3162, 3168, 3169, 3170, 3206, 3208, 3209, 3214, 3215, 3220,
    3221, 3222, 3224, 3229, 3234, 3241, 3242, 3243, 3248, 3252,
    3253, 3254, 3255, 3259, 3263, 3268, 3302, 3303, 3312, 3316,
    3319, 3321, 3323, 3325, 3404, 3408, 3412, 3414, 3417, 3420,
    3422, 3501, 3503, 3514, 3516, 3517, 3520, 3521, 3524, 3530,
    3532, 3536, 3544, 3545, 3550, 3552, 3554, 3556, 3561, 3563,
    3564, 3565, 3574, 3606, 3610, 3611, 3620, 3624, 3627, 3640,
    3641, 3642, 3646, 3647, 3648, 3650, 3702, 3706, 3714, 3715,
    3717, 3718, 3720, 3723, 3728, 3729, 3730, 3731, 3734, 3736,
    3738, 3741, 3745, 3748, 3749, 3751, 3752, 3901, 3902, 3904,
    3906, 3912, 3913, 3916, 3918, 3920, 3926, 3927, 3931, 3936,
    3940, 3943, 3948, 3954, 3959, 3962, 4008, 4010, 4012, 4017,
    4020, 4023, 4026, 4028, 4029, 4030, 4032, 4033, 4037, 4038,
    4042, 4044, 4045, 4051, 4052, 4059, 4060, 4064, 4066, 4068,
    4201, 4203, 4205, 4206, 4210, 4212, 4215, 4222, 4223, 4227,
    4228, 4233, 4237, 4305, 4517, 4518, 4522, 4523, 4525, 4531
]



def get_bread_crumbs():
  store_data = []
  max = 100
  count = 0
  for i in ids:
    if count >= max:
      break
    url = f"https://busdata.cs.pdx.edu/api/getBreadCrumbs?vehicle_id={i}"
    response = requests.get(url)
    if response.status_code == 200:
      data = response.json()
      #flatten the list of data
      store_data.extend(data)
      count += 1
  with open("bcsample_hundred.json", "w") as f:
    json.dump(store_data, f, indent=2)

get_bread_crumbs()